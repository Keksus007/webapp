<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            padding: 0;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px 20px;
            border-radius: 0 0  30px 30px;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
            text-align: center;
            margin: -20px -20px 30px -20px;
            color: white;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 8px;
        }
        
        .header p {
            color: rgba(255,255,255,0.95);
            font-size: 16px;
        }
        
        .card {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .sport-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .sport-btn {
            padding: 20px;
            border: 3px solid #e2e8f0;
            border-radius: 16px;
            background: white;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }
        
        .sport-btn:active {
            transform: scale(0.96);
        }
        
        .sport-btn.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }
        
        .sport-emoji {
            font-size: 40px;
            display: block;
            margin-bottom: 8px;
        }
        
        .sport-name {
            font-weight: 700;
            font-size: 15px;
            color: #2d3748;
        }
        
        .sport-btn.selected .sport-name {
            color: white;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            font-weight: 600;
            color: #2d3748;
            font-size: 16px;
        }
        
        input[type="text"],
        input[type="date"],
        input[type="number"] {
            width: 100%;
            padding: 14px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 500;
            background: #f7fafc;
            color: #2d3748;
            transition: all 0.3s;
        }
        
        @media (max-width: 480px) {
            input[type="text"],
            input[type="date"],
            input[type="number"] {
                padding: 12px;
                font-size: 14px;
            }
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        input::placeholder {
            color: #a0aec0;
        }
        
        .hint {
            margin-top: 8px;
            font-size: 13px;
            color: #718096;
        }
        
        .location-input-wrapper {
            position: relative;
        }
        
        .map-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
        }
        
        .map-btn:active {
            transform: translateY(-50%) scale(0.95);
        }
        
        .time-inputs {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 12px;
            align-items: center;
        }
        
        .time-separator {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
            text-align: center;
        }
        
        .participant-control {
            background: #f7fafc;
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }
        
        .participant-btn {
            width: 56px;
            height: 56px;
            border: none;
            border-radius: 50%;
            background: #667eea;
            color: white;
            font-size: 28px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
        }
        
        @media (max-width: 480px) {
            .participant-btn {
                width: 48px;
                height: 48px;
                font-size: 24px;
            }
        }
        
        .participant-btn:active {
            transform: scale(0.92);
        }
        
        .participant-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .participant-display {
            flex: 1;
            text-align: center;
        }
        
        .participant-input {
            width: 120px;
            text-align: center;
            font-size: 48px;
            font-weight: 800;
            color: #667eea;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 8px;
            margin: 0 auto;
            display: block;
        }
        
        @media (max-width: 480px) {
            .participant-input {
                width: 100px;
                font-size: 36px;
                padding: 6px;
            }
        }
        
        .participant-input::-webkit-inner-spin-button,
        .participant-input::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        .participant-label {
            font-size: 13px;
            color: #718096;
            margin-top: 8px;
            font-weight: 600;
        }
        
        .submit-btn {
            width: 100%;
            padding: 18px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
        }
        
        .submit-btn:active {
            transform: scale(0.97);
        }
        
        .date-time-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        @media (max-width: 480px) {
            .date-time-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìù –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h1>
            <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ</p>
        </div>
        
        <form id="eventForm">
            <!-- –í–∏–¥ —Å–ø–æ—Ä—Ç–∞ -->
            <div class="card">
                <div class="section-title">
                    <span>üéØ</span>
                    <span>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞</span>
                </div>
                <div class="sport-grid">
                    <div class="sport-btn" data-sport="padel">
                        <span class="sport-emoji">üéæ</span>
                        <div class="sport-name">Padel</div>
                    </div>
                    <div class="sport-btn" data-sport="volleyball">
                        <span class="sport-emoji">üèê</span>
                        <div class="sport-name">Volleyball</div>
                    </div>
                    <div class="sport-btn" data-sport="football">
                        <span class="sport-emoji">‚öΩ</span>
                        <div class="sport-name">Football</div>
                    </div>
                    <div class="sport-btn" data-sport="basketball">
                        <span class="sport-emoji">üèÄ</span>
                        <div class="sport-name">Basketball</div>
                    </div>
                </div>
                <input type="hidden" id="sportType" required>
            </div>
            
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="card">
                <div class="section-title">
                    <span>üìã</span>
                    <span>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>üìù</span>
                        <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
                    </div>
                    <input type="text" id="title" placeholder="–í–æ—Å–∫—Ä–µ—Å–Ω—ã–π –ø–∞–¥–µ–ª" required>
                    <div class="hint">üí° –ü—Ä–∏–¥—É–º–∞–π—Ç–µ —è—Ä–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</div>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>üìç</span>
                        <span>–ú–µ—Å—Ç–æ</span>
                    </div>
                    <div class="location-input-wrapper">
                        <input type="text" id="location" placeholder="Flavium —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∑–∞–ª" required style="padding-right: 50px;">
                        <button type="button" class="map-btn" id="mapBtn">üìç</button>
                    </div>
                    <div class="hint">üí° –ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ</div>
                </div>
            </div>
            
            <!-- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è -->
            <div class="card">
                <div class="section-title">
                    <span>üìÖ</span>
                    <span>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</span>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>üìÖ</span>
                        <span>–î–∞—Ç–∞</span>
                    </div>
                    <input type="date" id="date" required>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>‚è∞</span>
                        <span>–í—Ä–µ–º—è</span>
                    </div>
                    <div class="time-inputs">
                        <input type="text" id="timeStart" placeholder="19:00" pattern="[0-9]{1,2}(:[0-9]{2})?" required>
                        <div class="time-separator">‚àí</div>
                        <input type="text" id="timeEnd" placeholder="21:00" pattern="[0-9]{1,2}(:[0-9]{2})?" required>
                    </div>
                    <div class="hint">üí° –§–æ—Ä–º–∞—Ç: 19:00 –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ 19</div>
                </div>
            </div>
            
            <!-- –¶–µ–Ω–∞ -->
            <div class="card">
                <div class="section-title">
                    <span>üí∞</span>
                    <span>–°—Ç–æ–∏–º–æ—Å—Ç—å</span>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>üíµ</span>
                        <span>–¶–µ–Ω–∞</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 12px;">
                        <input type="number" id="price" placeholder="2000" min="0">
                        <select id="currency" style="padding: 16px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 16px; font-weight: 500; background: #f7fafc; color: #2d3748;">
                            <option value="RSD">RSD</option>
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                        </select>
                    </div>
                    <div class="hint">üí° –£–∫–∞–∂–∏—Ç–µ —Ü–µ–Ω—É –∑–∞ —É—á–∞—Å—Ç–∏–µ</div>
                </div>
            </div>
            
            <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ -->
            <div class="card">
                <div class="section-title">
                    <span>üë•</span>
                    <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
                </div>
                
                <div class="participant-control">
                    <button type="button" class="participant-btn" id="decreaseBtn">‚àí</button>
                    <div class="participant-display">
                        <input type="number" class="participant-input" id="participantInput" value="4" min="2" max="50">
                        <div class="participant-label">—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                    </div>
                    <button type="button" class="participant-btn" id="increaseBtn">+</button>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ —É–±—Ä–∞–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Telegram MainButton -->
        </form>
    </div>
    
    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        let selectedSport = null;
        let participantCount = 4;
        
        // –í—ã–±–æ—Ä —Å–ø–æ—Ä—Ç–∞
        document.querySelectorAll('.sport-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.sport-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                selectedSport = this.dataset.sport;
                document.getElementById('sportType').value = selectedSport;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É!
                updateMainButton();
                
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.impactOccurred('light');
                }
            });
        });
        
        // –ö–æ—Ä—Ç—ã –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞)
        const allCourts = {
            padel: [
                {name: 'Padel Smash', address: 'Padel Smash, Bulevar Zorana ƒêinƒëiƒáa, Beograd'},
                {name: 'Belgrade Padel Club', address: 'Belgrade Padel Club, Novi Beograd'},
                {name: 'Ada Padel', address: 'Ada Ciganlija, Padel teren'},
                {name: 'Flavium Sport', address: 'Flavium Sport, Beograd'},
                {name: 'Padel Arena', address: 'Padel Arena, Zemun'},
                {name: 'Sportski Centar 11. April', address: 'SC 11. April, Novi Beograd'},
                {name: 'Master Padel Club', address: 'Master Padel, Beograd'}
            ],
            volleyball: [
                {name: 'SC Novi Beograd', address: 'Sportski centar Novi Beograd'},
                {name: 'Ada Volleyball', address: 'Ada Ciganlija, Odbojka'},
                {name: 'Hala Pionir', address: 'Hala Pionir, Beograd'},
                {name: 'SC 25. Maj', address: 'Sportski centar 25. Maj'},
                {name: 'Beach Volleyball Ada', address: 'Ada Ciganlija, Beach Volleyball'}
            ],
            football: [
                {name: 'Arena Belgrade', address: 'Arena Sport, Novi Beograd'},
                {name: 'Ada Football', address: 'Ada Ciganlija, Fudbalski tereni'},
                {name: 'SportDepot', address: 'SportDepot, Beograd'},
                {name: 'SC 11. April Football', address: 'SC 11. April, Fudbal'},
                {name: 'Mini Football Merkur', address: 'Mini Football Merkur, Beograd'}
            ],
            basketball: [
                {name: 'Hala Pionir Basketball', address: 'Hala Pionir, Ko≈°arka'},
                {name: 'Ada Basketball', address: 'Ada Ciganlija, Ko≈°arka≈°ki tereni'},
                {name: 'SC Novi Beograd', address: 'SC Novi Beograd, Ko≈°arka'},
                {name: 'Avala Basketball', address: 'Avala, Ko≈°arka≈°ki tereni'}
            ]
        };
        
        // –ö–Ω–æ–ø–∫–∞ –∫–∞—Ä—Ç—ã
        document.getElementById('mapBtn').addEventListener('click', function() {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ø–æ—Ä—Ç
            const sportType = selectedSport || 'padel';
            const courts = allCourts[sportType] || allCourts.padel;
            
            showCourtMap(courts);
        });
        
        function showCourtMap(courts) {
            // –°–æ–∑–¥–∞—ë–º HTML –¥–ª—è –≤—ã–±–æ—Ä–∞
            let html = '<div style="padding: 20px; max-height: 500px; overflow-y: auto;">';
            html += '<h3 style="margin: 0 0 20px 0; text-align: center;">üìç –í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–æ—â–∞–¥–∫—É:</h3>';
            
            courts.forEach((court, i) => {
                html += `<div style="padding: 15px; margin-bottom: 10px; background: #f7fafc; border-radius: 12px; cursor: pointer; border: 2px solid #e2e8f0; transition: all 0.2s;" onclick="selectCourt('${court.address}')" onmouseover="this.style.borderColor='#667eea'" onmouseout="this.style.borderColor='#e2e8f0'">`;
                html += `<div style="font-weight: 700; font-size: 16px; margin-bottom: 5px; color: #2d3748;">${court.name}</div>`;
                html += `<div style="color: #718096; font-size: 14px;">${court.address}</div>`;
                html += `</div>`;
            });
            
            html += '</div>';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ popup
            const popup = document.createElement('div');
            popup.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: white; z-index: 1000; overflow-y: auto;';
            popup.innerHTML = html;
            
            // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç—å
            const closeBtn = document.createElement('button');
            closeBtn.textContent = '‚úï';
            closeBtn.style.cssText = 'position: fixed; top: 15px; right: 15px; width: 45px; height: 45px; border: none; background: #667eea; border-radius: 50%; font-size: 24px; cursor: pointer; color: white; box-shadow: 0 4px 15px rgba(102,126,234,0.4); z-index: 1001;';
            closeBtn.onclick = () => document.body.removeChild(popup);
            popup.appendChild(closeBtn);
            
            document.body.appendChild(popup);
        }
        
        window.selectCourt = function(address) {
            document.getElementById('location').value = address;
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º popup
            const popup = document.querySelector('[style*="z-index: 1000"]');
            if (popup) document.body.removeChild(popup);
            
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        };
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
        const participantInput = document.getElementById('participantInput');
        
        document.getElementById('decreaseBtn').addEventListener('click', function() {
            if (participantCount > 2) {
                participantCount--;
                participantInput.value = participantCount;
                updateParticipantButtons();
                
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.impactOccurred('light');
                }
            }
        });
        
        document.getElementById('increaseBtn').addEventListener('click', function() {
            if (participantCount < 50) {
                participantCount++;
                participantInput.value = participantCount;
                updateParticipantButtons();
                
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.impactOccurred('light');
                }
            }
        });
        
        // –í–≤–æ–¥ –≤—Ä—É—á–Ω—É—é - –ü–£–°–¢–û–ï –ü–û–õ–ï –†–ê–ó–†–ï–®–ï–ù–û
        participantInput.addEventListener('input', function() {
            if (this.value === '') {
                participantCount = 0;
                return;
            }
            let value = parseInt(this.value) || 0;
            if (value < 2) value = 2;
            if (value > 50) value = 50;
            participantCount = value;
            this.value = value;
            updateParticipantButtons();
        });
        
        participantInput.addEventListener('blur', function() {
            if (this.value === '' || participantCount < 2) {
                participantCount = 2;
                this.value = 2;
            }
            updateParticipantButtons();
        });
        
        function updateParticipantButtons() {
            document.getElementById('decreaseBtn').disabled = participantCount <= 2;
            document.getElementById('increaseBtn').disabled = participantCount >= 50;
        }
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(input) {
            let value = input.value.replace(/[^0-9:]/g, '');
            
            // –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –±–µ–∑ –¥–≤–æ–µ—Ç–æ—á–∏—è
            if (!value.includes(':')) {
                let num = parseInt(value);
                if (num >= 0 && num <= 23) {
                    value = num + ':00';
                }
            }
            
            return value;
        }
        
        document.getElementById('timeStart').addEventListener('blur', function() {
            this.value = formatTime(this);
        });
        
        document.getElementById('timeEnd').addEventListener('blur', function() {
            this.value = formatTime(this);
        });
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ Telegram MainButton
        tg.MainButton.setText("‚ú® –°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ");
        tg.MainButton.show();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∫–æ–≥–¥–∞ —Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞
        function updateMainButton() {
            if (selectedSport && 
                document.getElementById('title').value && 
                document.getElementById('location').value &&
                document.getElementById('timeStart').value &&
                document.getElementById('timeEnd').value) {
                tg.MainButton.enable();
            } else {
                tg.MainButton.disable();
            }
        }
        
        // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ
        document.getElementById('title').addEventListener('input', updateMainButton);
        document.getElementById('location').addEventListener('input', updateMainButton);
        document.getElementById('timeStart').addEventListener('input', updateMainButton);
        document.getElementById('timeEnd').addEventListener('input', updateMainButton);
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ MainButton
        tg.MainButton.onClick(function() {
            if (!selectedSport) {
                tg.showAlert('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞!');
                return;
            }
            
            const timeStart = formatTime(document.getElementById('timeStart'));
            const timeEnd = formatTime(document.getElementById('timeEnd'));
            
            const formData = {
                sport_type: selectedSport,
                title: document.getElementById('title').value,
                date: document.getElementById('date').value,
                time: timeStart + '-' + timeEnd,
                location: document.getElementById('location').value,
                max_participants: participantCount,
                price: parseInt(document.getElementById('price').value) || 0,
                currency: document.getElementById('currency').value
            };
            
            if (tg.HapticFeedback) {
                tg.HapticFeedback.notificationOccurred('success');
            }
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            tg.sendData(JSON.stringify(formData));
        });
        
        // Fallback: –æ–±—ã—á–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤ —á–∞—Ç–µ
        document.getElementById('eventForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!selectedSport) {
                tg.showAlert('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞!');
                if (tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('error');
                }
                return;
            }
            
            const timeStart = formatTime(document.getElementById('timeStart'));
            const timeEnd = formatTime(document.getElementById('timeEnd'));
            
            const formData = {
                sport_type: selectedSport,
                title: document.getElementById('title').value,
                date: document.getElementById('date').value,
                time: timeStart + '-' + timeEnd,
                location: document.getElementById('location').value,
                max_participants: participantCount,
                price: parseInt(document.getElementById('price').value) || 0,
                currency: document.getElementById('currency').value
            };
            
            if (tg.HapticFeedback) {
                tg.HapticFeedback.notificationOccurred('success');
            }
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            tg.sendData(JSON.stringify(formData));
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date').value = today;
        document.querySelector('[data-sport="padel"]').click();
        updateParticipantButtons();
    </script>
</body>
</html>
